---
http_interactions:
- request:
    method: get
    uri: https://api.datacite.org/prefixes/10.6084
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Maremma - http://profiles.local
      Accept:
      - text/html,application/json,application/xml;q=0.9, text/plain;q=0.8,image/png,*/*;q=0.5
  response:
    status:
      code: 200
      message: OK
    headers:
      Access-Control-Allow-Headers:
      - Content-Type,Accept,Accept-Encoding,Origin,User-Agent,Cache-Control,Keep-Alive
      Access-Control-Allow-Methods:
      - GET, POST, OPTIONS
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Max-Age:
      - '1728000'
      Cache-Control:
      - max-age=0, private, must-revalidate
      Content-Type:
      - application/vnd.api+json; charset=utf-8
      Date:
      - Tue, 20 Jun 2017 09:46:36 GMT
      Etag:
      - W/"58c74e33ab541adc084b3eaeb81a81fd"
      Server:
      - openresty/1.11.2.2
      Status:
      - 200 OK
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-Powered-By:
      - Phusion Passenger 5.1.4
      X-Request-Id:
      - 05a241f2-b9dd-4739-be94-3ca5c81eb778
      X-Runtime:
      - '0.499016'
      X-Xss-Protection:
      - 1; mode=block
      Content-Length:
      - '124'
      Connection:
      - keep-alive
    body:
      encoding: UTF-8
      string: '{"data":{"id":"10.6084","type":"prefixes","attributes":{"registration-agency":"DataCite","updated":"2016-09-21T20:27:26Z"}}}'
    http_version: 
  recorded_at: Tue, 20 Jun 2017 09:46:36 GMT
- request:
    method: get
    uri: https://search.datacite.org/api?fl=doi,xml,media,minted,updated&q=doi:10.6084/m9.figshare.1066168&wt=json
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Maremma - http://profiles.local
      Accept:
      - text/html,application/json,application/xml;q=0.9, text/plain;q=0.8,image/png,*/*;q=0.5
  response:
    status:
      code: 200
      message: OK
    headers:
      Access-Control-Allow-Methods:
      - GET, POST, OPTIONS
      Access-Control-Allow-Origin:
      - "*"
      Content-Type:
      - application/json;charset=UTF-8
      Date:
      - Tue, 20 Jun 2017 09:46:38 GMT
      Server:
      - openresty/1.11.2.2
      Content-Length:
      - '1443'
      Connection:
      - keep-alive
    body:
      encoding: UTF-8
      string: '{"responseHeader":{"status":0,"QTime":0},"response":{"numFound":1,"start":0,"docs":[{"xml":"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHJlc291cmNlIHhtbG5zPSJodHRwOi8vZGF0YWNpdGUub3JnL3NjaGVtYS9rZXJuZWwtMyIgeG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSIgeHNpOnNjaGVtYUxvY2F0aW9uPSJodHRwOi8vZGF0YWNpdGUub3JnL3NjaGVtYS9rZXJuZWwtMyBodHRwOi8vc2NoZW1hLmRhdGFjaXRlLm9yZy9tZXRhL2tlcm5lbC0zL21ldGFkYXRhLnhzZCI+PGlkZW50aWZpZXIgaWRlbnRpZmllclR5cGU9IkRPSSI+MTAuNjA4NC9NOS5GSUdTSEFSRS4xMDY2MTY4PC9pZGVudGlmaWVyPjx0aXRsZXM+PHRpdGxlPjEwMDAgcmFuZG9tIFBMT1MgT05FIERPSXMgZnJvbSAyMDEzPC90aXRsZT48L3RpdGxlcz48cHVibGlzaGVyPkZpZ3NoYXJlPC9wdWJsaXNoZXI+PHB1YmxpY2F0aW9uWWVhcj4yMDE0PC9wdWJsaWNhdGlvblllYXI+PHJlc291cmNlVHlwZSByZXNvdXJjZVR5cGVHZW5lcmFsPSJEYXRhc2V0Ij5EYXRhc2V0PC9yZXNvdXJjZVR5cGU+PHJpZ2h0c0xpc3Q+PHJpZ2h0cyByaWdodHNVUkk9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LzMuMC91cy8iPkNDLUJZPC9yaWdodHM+PC9yaWdodHNMaXN0PjxjcmVhdG9ycz48Y3JlYXRvcj48Y3JlYXRvck5hbWU+Wm9ocmVoIFphaGVkaTwvY3JlYXRvck5hbWU+PC9jcmVhdG9yPjxjcmVhdG9yPjxjcmVhdG9yTmFtZT5NYXJ0aW4gRmVubmVyPC9jcmVhdG9yTmFtZT48bmFtZUlkZW50aWZpZXIgbmFtZUlkZW50aWZpZXJTY2hlbWU9Ik9SQ0lEIj4wMDAwLTAwMDItMjE4NC02MDk0PC9uYW1lSWRlbnRpZmllcj48L2NyZWF0b3I+PGNyZWF0b3I+PGNyZWF0b3JOYW1lPlJvZHJpZ28gQ29zdGFzPC9jcmVhdG9yTmFtZT48L2NyZWF0b3I+PC9jcmVhdG9ycz48L3Jlc291cmNlPg==","minted":"2014-06-22T10:41:15Z","updated":"2014-07-04T20:44:04Z","doi":"10.6084/M9.FIGSHARE.1066168"}]}}

'
    http_version: 
  recorded_at: Tue, 20 Jun 2017 09:46:38 GMT
- request:
    method: post
    uri: https://api.sandbox.orcid.org/v2.0/0000-0001-6528-2027/notification-permission
    body:
      encoding: UTF-8
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <notification:notification xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:common="http://www.orcid.org/ns/common" xmlns:notification="http://www.orcid.org/ns/notification" xsi:schemaLocation="http://www.orcid.org/ns/notification ../notification-permission-2.0.xsd">
          <notification:notification-type>permission</notification:notification-type>
          <notification:authorization-url>
            <notification:path>/oauth/authorize?client_id=<ORCID_CLIENT_ID>&amp;response_type=code&amp;scope=/read-limited%20/activities/update%20/person/update&amp;redirect_uri=http://localhost:8080/users/auth/orcid/callback</notification:path>
            <notification:host>orcid.org</notification:host>
          </notification:authorization-url>
          <notification:notification-subject/>
          <notification:notification-intro/>
          <notification:items>
            <notification:item>
              <notification:item-type>work</notification:item-type>
              <notification:item-name>1000 random PLOS ONE DOIs from 2013</notification:item-name>
              <common:external-id>
                <common:external-id-type>doi</common:external-id-type>
                <common:external-id-value>10.6084/M9.FIGSHARE.1066168</common:external-id-value>
                <common:external-id-relationship>self</common:external-id-relationship>
              </common:external-id>
            </notification:item>
          </notification:items>
        </notification:notification>
    headers:
      User-Agent:
      - Maremma - http://profiles.local
      Content-Type:
      - application/vnd.orcid+xml
      Accept:
      - text/html,application/json,application/xml;q=0.9, text/plain;q=0.8,image/png,*/*;q=0.5
      Authorization:
      - Bearer <NOTIFICATION_ACCESS_TOKEN>
  response:
    status:
      code: 201
      message: Created
    headers:
      Server:
      - nginx/1.10.0
      Date:
      - Tue, 20 Jun 2017 09:46:42 GMT
      Content-Type:
      - application/vnd.orcid+xml; qs=5;charset=UTF-8
      Content-Length:
      - '0'
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Pragma:
      - no-cache
      Expires:
      - '0'
      X-Xss-Protection:
      - 1; mode=block
      X-Frame-Options:
      - DENY
      X-Content-Type-Options:
      - nosniff
      Location:
      - http://api.sandbox.orcid.org:443/orcid-api-web/v2.0/0000-0001-6528-2027/notification-permission/248065
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Tue, 20 Jun 2017 09:46:42 GMT
recorded_with: VCR 3.0.3
